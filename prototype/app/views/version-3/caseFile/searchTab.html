{% extends "layoutCPS.html" %}
{% block beforeContent %}
{% include "includes/cps/v3/search-banner-modal-simple-v2.html" %}
{% endblock %}
{% block content %}
<!-- <link href="/public/css/bootstrap-theme.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/public/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" /> -->
<link href="/public/stylesheets/filtering.css" media="screen" rel="stylesheet" type="text/css" />
<script src="/public/javascripts/accordion.js"></script>
<!-- <script src="/public/javascripts/cookie.js"></script> -->
<!-- <script>
    $( document ).ready(function() {
var appCount=0
var proCount=0
$(".searchShortlist").click(function (e) {
    e.preventDefault();
    console.log("searchShortlist button clicked: " + appCount);
  

    if ($(".shortlistText", this).hasClass("notSearchShortlist")) {
        console.log("isnt shortlisted");
        appCount++;
        console.log(appCount);

        $(".shortlistText" , this).removeClass("notSearchShortlist").addClass("searchShortlist");
        $(".shortlistText" , this).text("Remove this document");
        $("#bannerCount span").text(Number(proCount) + Number(appCount));

    } else {
        console.log("is shortlisted");
        $(".shortlistText", this).removeClass("searchShortlist").addClass("notSearchShortlist");
        $(".shortlistText", this).text("Select document");
        appCount--;

        $("#bannerCount span").text(Number(proCount) + Number(appCount));
    }

    if (appCount>0) {
         $('.openSelect').prop("disabled", false); //

    } else {
         $('.openSelect').prop("disabled", true); //
    }
    })
});
</script> -->
<script>
    if (
    'addEventListener' in document &&
    document.querySelectorAll
) {
    document.addEventListener('DOMContentLoaded', function() {
        var accordions = document.querySelectorAll('.accordion')
        for (var i = accordions.length - 1; i >= 0; i--) {
            new Accordion(accordions[i])
        };
    })
}
</script>
<style>
    .accordion-controls {
    margin-top: 20px;
}
</style>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-quarter" style="">
        <div style="margin-bottom:20px">
            <a href="javascript:history.back()" class="govuk-back-link" style="margin-bottom:25px">Back to URN search</a>
            <h1 class="govuk-heading-m wrapLongFilenamesCPS" style="margin-bottom:0"> McLove, Eoin
                <span class="govuk-caption-m">45AA209820/1</span>
            </h1>
        </div>
        <div class=" makeScrollCPS" style="">
            <div class="caseFiles" id="caseFilesCol" style="margin-right:25px">
                <div class="blueBoxCPS">
                    <h2 class="govuk-heading-s" style="color:#fff; padding-top:1rem; ">Proposed Charges</h2>
                    <ul class="govuk-list govuk-list--bullet govuk-body-s" style="color:#fff; margin-bottom:0">
                        <li>
                            <span style="font-weight:700">Section 39 Common assault 01/06/2020.</span> Contrary to the Criminal Justice Act 1988
                        </li>
                        <!--         <li style="padding-top: 15px; margin-bottom: 0;">
                                <span style="font-weight:700">Section 5 Drive OPL 01/06/2020</span> Contrary to Road Traffic Act
                            </li> -->
                    </ul>
                </div>
                  <label class="govuk-label--s govuk-label" for="" style="">Search</label>
                <div style="display:flex; width:98%; margin-bottom:25px">
                    <input class="govuk-input " style="margin-left: auto; border-right:0" id="searchURN" name="searchURN" type="text" aria-describedby="FirstName-hint" value="" placeholder="" />
                    <div class="bba"><button class="search" type="submit" onCLick="openSearchTab()"> </button></div>
                </div>
                <div class="accordion">
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s" style="">Case overview</h2>
                        </div>
                        <div class="accordion-section-body">
                            <div class="cpsDocs chargingDocs">
                               
                                <table class="govuk-table ">
                                    <thead>
                                        <tr class="govuk-table__row">
                                            <th scope="col" class="govuk-table__header " style=""></th>
                                            <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400">Date added</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="govuk-table__row">
                                            <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MCLOVEMG3.pdf">MCLOVE MG3</a></td>
                                            <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">02 June 2020</td>
                                        </tr>
                                        <tr class="govuk-table__row">
                                            <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MG05MCLOVE.pdf">MG05 MCLOVE</a></td>
                                            <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">02 June 2020</td>
                                        </tr>
                                        <tr class="govuk-table__row">
                                            <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MG06_10june.pdf">MG06 10 june</a></td>
                                            <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">10 June 2020</td>
                                        </tr>
                                        <tr class="govuk-table__row">
                                            <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MG06_3June.pdf">MG06 3 June</a></td>
                                            <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">03 June 2020</td>
                                       
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!--    <div class="accordion"> -->
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s">Statements</h2>
                        </div>
                        <div class="accordion-section-body">
                            
                            <table class="govuk-table ">
                                <thead>
                                    <tr class="govuk-table__row">
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400">Date added</th>
                                    </tr>
                                </thead>
                                <tbody>
                                           <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="stmt_BLAYNEE_2034_1_JUNE_mg11.pdf">stmt BLAYNEE 2034 1 JUNE mg11</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">01 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="stmt_JONES_1989_1_JUNE_mg11.pdf">stmt JONES 1989 1 JUNE mg11</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">01 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="stmt_Lucy_Doyle_MG11.pdf">stmt Lucy Doyle MG11</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">01 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="stmt_Shelagh_McLove_MG11.pdf">stmt Shelagh McLove MG11</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">01 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="Shelagh_McLove_VPS_mg11.pdf">Shelagh McLove VPS mg11</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">06 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MG11_Shelagh_MCLOVE_retraction.pdf">MG11 Shelagh MCLOVE retraction</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">10 June 2020</td>
                                    </tr>
                            
                             
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s">Exhibits </h2>
                        </div>
                        <div class="accordion-section-body">
                           
                            <table class="govuk-table ">
                                <thead>
                                    <tr class="govuk-table__row">
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400">Date added</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MG12.pdf">MCLOVE MG12</a></td>
                                        <td class="govuk-table__cell govuk-body-s" scope="row">pdf</td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">12 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="MG00.pdf">MCLOVE MG00</a></td>
                                        <td class="govuk-table__cell govuk-body-s" scope="row">pdf</td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">12 June 2020</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s">Forensics </h2>
                        </div>
                        <div class="accordion-section-body">
                            
                            <table class="govuk-table ">
                                <thead>
                                    <tr class="govuk-table__row">
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row">No documents</td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row"></td>
                                    </tr>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s">Unused materials </h2>
                        </div>
                        <div class="accordion-section-body">
                            
                            <table class="govuk-table ">
                                <thead>
                                    <tr class="govuk-table__row">
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400">Date added</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="UNUSED_1_STORM_LOG_1881_01.6.20_EDITED_2020-11-23_MCLOVE.pdf">UNUSED 1 - STORM LOG 1881 01.6.20 - EDITED 2020-11-23 MCLOVE</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">01 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="MG20_5_JUNE.pdf" data-doc="MG20_5_JUNE.pdf">MG20_5_JUNE</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">06 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="MG20_10_JUNE.pdf" data-doc="MG20_10_JUNE.pdf">MG20_10_JUNE</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">11 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="SDC_items_to_be_Disclosed_MCLOVE.pdf">SDC_items to_be Disclosed MCLOVE</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">05 June 2020</td>
                                    </tr>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="SDC_items_to_be_Disclosed_MCLOVE.pdf">UNUSED_6 DA CHECKLIST MCLOVE</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row" style="">05 June 2020</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- end of accordion -->
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s">Defendant</h2>
                        </div>
                        <div class="accordion-section-body">
                    
                            <table class="govuk-table ">
                                <thead>
                                    <tr class="govuk-table__row">
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400">Date added</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row"><a href="" data-doc="PRE_CONS_D.pdf">PRE CONS D</a></td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row">02 June 2020</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- end of accordion -->
                    <div class="accordion-section">
                        <div class="accordion-section-header">
                            <h2 class="govuk-heading-s">Court preperation </h2>
                        </div>
                        <div class="accordion-section-body">
           
                            <table class="govuk-table ">
                                <thead>
                                    <tr class="govuk-table__row">
                                        <th scope="col" class="govuk-table__header " style=""></th>
                                        <th scope="col" class="govuk-table__header govuk-body-s" style="font-weight:400"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="govuk-table__row">
                                        <td class="govuk-table__cell govuk-body-s wrapLongFilenamesCPS openMe" scope="row">No documents</td>
                                        <td class="govuk-table__cell govuk-body-s dateWidthCPS" scope="row"></td>
                                    </tr>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- end of all accordion -->
                </div>
            </div>
            <!-- end of charging docs column -->
        </div>
    </div>
    <div class="govuk-grid-column-three-quarters">
        <div class="file1 weirdFix1400">
            <div class="govuk-tabs" data-module="govuk-tabs">
                {% include "includes/cps/v3/search-banner-tab-heading.html" %}
                 
                <ul class="govuk-tabs__list">
                    {% include "includes/cps/v3/search-banner-tab.html" %}

                </ul>
                 
                <h2 class="govuk-heading-m" style="margin:220px 0 0 0; text-align:center;">View your documents </h2>
                <p style="margin:10px 0 0 0; text-align:center;">Search or choose a file to start reviewing documents</p>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- </main>
</div> -->
<!-- remove if you get rid of the gov width container -->
<script>
$(document).ready(function() {

    const $menuLinks = $(".openMe a");
    const $tabList = $(".govuk-tabs .govuk-tabs__list");

    $menuLinks.each(function(_, link) {
        $(link).click(handleMenuLinkClick)
    })

    function handleMenuLinkClick(event) {
        event.preventDefault();
        const label = $(this).text();
        highlightMenuLink(label, true);
        ensureTabExists(label);
        showTab(label, true);
    }

    function highlightMenuLink(label, isHighlighted) {
        const $link = $(`.openMe a:contains("${label}")`)
        if (isHighlighted) {
            $link.parent("p").addClass("documentSelected");
        } else {
            $link.parent("p").removeClass("documentSelected");
        }
    }

    function ensureTabExists(label) {
        const document = $(`.openMe a:contains("${label}")`).attr("data-doc")
        const existingTab = $(`li[data-tab-id='${label}']`);
        if (existingTab.length) return;

        const newTab = $(`
        <li class="govuk-tabs__list-item" data-tab-id="${label}">

            <svg class="closeButtonOnCPS">
                <circle cx="12" cy="12" r="13" stroke="white" stroke-width="1" fill="white" />
                <path stroke="white" stroke-width="3" fill="none" d="M6.25,6.25,17.75,17.75" />
                <path stroke="white" stroke-width="3" fill="none" d="M6.25,17.75,17.75,6.25" />
            </svg>

            <a class="govuk-tabs__tab" href="">${label}</a>
        </li>`)
            .appendTo($tabList);

        const newContent = $(`
        <div class="govuk-tabs__panel govuk-tabs__panel--hidden" data-tab-id="${label}-content">        
            <embed class="embedSize" src="/public/files/${document}#toolbar=0" >
        </div>`)
            .insertAfter($tabList);

        newTab.find("li").off("click");
        newTab.find("a.govuk-tabs__tab").click(function() {
            event.preventDefault();
            showTab(label);
        })

        newTab.find(".closeButtonOnCPS").click(function() {
            destroyTab(label);
            highlightMenuLink(label, false);
        })
    }

    function destroyTab(label) {
        const $tabs = $(`li[data-tab-id`);
        const $thisTab = $(`li[data-tab-id='${label}']`);
        const thisTabIndex = $tabs.index($thisTab);
        const tabIndexToLeaveOpen = thisTabIndex ?
            thisTabIndex - 1 // if not first tab, go to the left
            :
            0; // otherwise if first tab, then go to the tab that is now first
        $(`li[data-tab-id='${label}']`).remove();
        $(`div[data-tab-id='${label}-content']`).remove();

        const labelOfTabToOpen = $($(`li[data-tab-id`)[tabIndexToLeaveOpen]).text().trim();

        showTab(labelOfTabToOpen);
    }


    function showTab(label) {
        $tabList.find("li").removeAttr('id', 'selectedTab');
        $tabList.find("li").removeClass("govuk-tabs__list-item--selected");


        $(`li[data-tab-id='${label}']`).addClass("govuk-tabs__list-item--selected");
        $(`li[data-tab-id='${label}']`).attr('id', 'selectedTab');

        $(".govuk-tabs__panel").addClass("govuk-tabs__panel--hidden");
        $(`div[data-tab-id='${label}-content']`).removeClass("govuk-tabs__panel--hidden");

        const selectedTab = $("#selectedTab");
        if (selectedTab.length) {
            selectedTab[0].scrollIntoView();
        }
    }





})
</script>
{% endblock %}